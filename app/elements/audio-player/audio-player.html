<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/core-icon-button/core-icon-button.html">
<link rel="import" href="../../bower_components/core-toolbar/core-toolbar.html">
<link rel="import" href="../../bower_components/core-icons/core-icons.html">
<link rel="import" href="../../bower_components/core-icons/av-icons.html">
<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../bower_components/paper-input/paper-input.html">


<polymer-element name="audio-player" attributes="audioUrl" audioUrl="http://swr-mp3-m-swr3.akacast.akamaistream.net/7/720/137136/v1/gnl.akacast.akamaistream.net/swr-mp3-m-swr3" >
  <template>
    <link rel="stylesheet" href="audio-player.css">
    <audio id="player" src="{{ audioUrl }}" preload="metadata"></audio>
    <core-toolbar id="core_toolbar">
      <paper-icon-button icon="menu" id="core_icon_button"></paper-icon-button>
      <!-- div id="div" flex>Radio</div -->
      <paper-input flex id="url" name="url" type="url" label="URL" value="{{ audioUrl }}"></paper-input>
      <paper-icon-button icon="{{ playerIcon }}" id="playPause" on-click="{{ playPause }}"></paper-icon-button>
    </core-toolbar>
  </template>
  <script>
    (function () {
      'use strict';

      /* jshint -W064 */
      Polymer({
        // define element prototype here

        playPause: function() {
          if(this.$.player.paused) {
            this.$.player.play();
          } else {
            this.$.player.pause();
          }
        },

        get playerIcon() {
          console.log('playerIcon', this.$ && this.$.player.paused);
          if(this.$ && this.$.player) {
            return this.$.player.paused ? 'av:pause' : 'av:play-arrow';
          }
          return 'av:play-arrow';
        }
      });

    })();
  </script>
</polymer-element>
